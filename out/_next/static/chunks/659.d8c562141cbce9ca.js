(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[659],{7407:function(e,t,n){"use strict";n.d(t,{j:function(){return l}});var o=n(7462),r=n(7294),i=n(9477),a=n(9006);const s={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:"\n      varying vec2 vUv;\n\n      void main() {\n\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n      }\n  ",fragmentShader:"\n    uniform sampler2D tDiffuse;\n    uniform float h;\n\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvec4 sum = vec4( 0.0 );\n\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n    \tgl_FragColor = sum;\n\n    }\n  "},c={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:"\n    varying vec2 vUv;\n\n    void main() {\n\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n  ",fragmentShader:"\n\n  uniform sampler2D tDiffuse;\n  uniform float v;\n\n  varying vec2 vUv;\n\n  void main() {\n\n    vec4 sum = vec4( 0.0 );\n\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n    gl_FragColor = sum;\n\n  }\n  "},l=r.forwardRef((({scale:e=10,frames:t=1/0,opacity:n=1,width:l=1,height:u=1,blur:d=1,far:m=10,resolution:h=512,smooth:f=!0,color:v="#000000",...p},b)=>{const g=(0,a.y)((e=>e.scene)),E=(0,a.y)((e=>e.gl)),y=r.useRef(null);l*=Array.isArray(e)?e[0]:e||1,u*=Array.isArray(e)?e[1]:e||1;const[w,P,M,O,x,D,T]=r.useMemo((()=>{const e=new i.WebGLRenderTarget(h,h),t=new i.WebGLRenderTarget(h,h);t.texture.generateMipmaps=e.texture.generateMipmaps=!1;const n=new i.PlaneBufferGeometry(l,u).rotateX(Math.PI/2),o=new i.Mesh(n),r=new i.MeshDepthMaterial;r.depthTest=r.depthWrite=!1,r.onBeforeCompile=e=>{e.uniforms={...e.uniforms,ucolor:{value:new i.Color(v).convertSRGBToLinear()}},e.fragmentShader=e.fragmentShader.replace("void main() {","uniform vec3 ucolor;\n           void main() {\n          "),e.fragmentShader=e.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor, ( 1.0 - fragCoordZ ) * 1.0 );")};const a=new i.ShaderMaterial(s),d=new i.ShaderMaterial(c);return d.depthTest=a.depthTest=!1,[e,n,r,o,a,d,t]}),[h,l,u,e,v]),L=e=>{O.visible=!0,O.material=x,x.uniforms.tDiffuse.value=w.texture,x.uniforms.h.value=1*e/256,E.setRenderTarget(T),E.render(O,y.current),O.material=D,D.uniforms.tDiffuse.value=T.texture,D.uniforms.v.value=1*e/256,E.setRenderTarget(w),E.render(O,y.current),O.visible=!1};let C=0;return(0,a.z)((()=>{if(y.current&&(t===1/0||C<t)){const e=g.background;g.background=null;const t=g.overrideMaterial;g.overrideMaterial=M,E.setRenderTarget(w),E.render(g,y.current),g.overrideMaterial=t,L(d),f&&L(.4*d),E.setRenderTarget(null),g.background=e,C++}})),r.createElement("group",(0,o.Z)({"rotation-x":Math.PI/2},p,{ref:b}),r.createElement("mesh",{geometry:P,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},r.createElement("meshBasicMaterial",{map:w.texture,"map-encoding":E.outputEncoding,transparent:!0,opacity:n})),r.createElement("orthographicCamera",{ref:y,args:[-l/2,l/2,u/2,-u/2,0,m]}))}))},9888:function(e,t,n){"use strict";n.d(t,{z:function(){return u}});var o=n(7462),r=n(9006),i=n(7294),a=n(4942),s=n(9477);const c=(e,t)=>(e%t+t)%t;class l extends s.EventDispatcher{constructor(e,t){super(),(0,a.Z)(this,"object",void 0),(0,a.Z)(this,"domElement",void 0),(0,a.Z)(this,"enabled",!0),(0,a.Z)(this,"target",new s.Vector3),(0,a.Z)(this,"minDistance",0),(0,a.Z)(this,"maxDistance",1/0),(0,a.Z)(this,"minZoom",0),(0,a.Z)(this,"maxZoom",1/0),(0,a.Z)(this,"minPolarAngle",0),(0,a.Z)(this,"maxPolarAngle",Math.PI),(0,a.Z)(this,"minAzimuthAngle",-1/0),(0,a.Z)(this,"maxAzimuthAngle",1/0),(0,a.Z)(this,"enableDamping",!1),(0,a.Z)(this,"dampingFactor",.05),(0,a.Z)(this,"enableZoom",!0),(0,a.Z)(this,"zoomSpeed",1),(0,a.Z)(this,"enableRotate",!0),(0,a.Z)(this,"rotateSpeed",1),(0,a.Z)(this,"enablePan",!0),(0,a.Z)(this,"panSpeed",1),(0,a.Z)(this,"screenSpacePanning",!0),(0,a.Z)(this,"keyPanSpeed",7),(0,a.Z)(this,"autoRotate",!1),(0,a.Z)(this,"autoRotateSpeed",2),(0,a.Z)(this,"reverseOrbit",!1),(0,a.Z)(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),(0,a.Z)(this,"mouseButtons",{LEFT:s.MOUSE.ROTATE,MIDDLE:s.MOUSE.DOLLY,RIGHT:s.MOUSE.PAN}),(0,a.Z)(this,"touches",{ONE:s.TOUCH.ROTATE,TWO:s.TOUCH.DOLLY_PAN}),(0,a.Z)(this,"target0",void 0),(0,a.Z)(this,"position0",void 0),(0,a.Z)(this,"zoom0",void 0),(0,a.Z)(this,"_domElementKeyEvents",null),(0,a.Z)(this,"getPolarAngle",void 0),(0,a.Z)(this,"getAzimuthalAngle",void 0),(0,a.Z)(this,"setPolarAngle",void 0),(0,a.Z)(this,"setAzimuthalAngle",void 0),(0,a.Z)(this,"getDistance",void 0),(0,a.Z)(this,"listenToKeyEvents",void 0),(0,a.Z)(this,"saveState",void 0),(0,a.Z)(this,"reset",void 0),(0,a.Z)(this,"update",void 0),(0,a.Z)(this,"connect",void 0),(0,a.Z)(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof s.PerspectiveCamera?this.object.zoom:1,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=e=>{let t=c(e,2*Math.PI),o=m.phi;o<0&&(o+=2*Math.PI),t<0&&(t+=2*Math.PI);let r=Math.abs(t-o);2*Math.PI-r<r&&(t<o?t+=2*Math.PI:o+=2*Math.PI),h.phi=t-o,n.update()},this.setAzimuthalAngle=e=>{let t=c(e,2*Math.PI),o=m.theta;o<0&&(o+=2*Math.PI),t<0&&(t+=2*Math.PI);let r=Math.abs(t-o);2*Math.PI-r<r&&(t<o?t+=2*Math.PI:o+=2*Math.PI),h.theta=t-o,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=e=>{e.addEventListener("keydown",K),this._domElementKeyEvents=e},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object instanceof s.PerspectiveCamera?n.object.zoom:1},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object instanceof s.PerspectiveCamera&&(n.object.zoom=n.zoom0,n.object.updateProjectionMatrix()),n.dispatchEvent(o),n.update(),u=l.NONE},this.update=(()=>{const t=new s.Vector3,r=(new s.Quaternion).setFromUnitVectors(e.up,new s.Vector3(0,1,0)),i=r.clone().invert(),a=new s.Vector3,c=new s.Quaternion,b=2*Math.PI;return function(){const e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(r),m.setFromVector3(t),n.autoRotate&&u===l.NONE&&C(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(m.theta+=h.theta*n.dampingFactor,m.phi+=h.phi*n.dampingFactor):(m.theta+=h.theta,m.phi+=h.phi);let s=n.minAzimuthAngle,g=n.maxAzimuthAngle;return isFinite(s)&&isFinite(g)&&(s<-Math.PI?s+=b:s>Math.PI&&(s-=b),g<-Math.PI?g+=b:g>Math.PI&&(g-=b),m.theta=s<=g?Math.max(s,Math.min(g,m.theta)):m.theta>(s+g)/2?Math.max(s,m.theta):Math.min(g,m.theta)),m.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,m.phi)),m.makeSafe(),m.radius*=f,m.radius=Math.max(n.minDistance,Math.min(n.maxDistance,m.radius)),!0===n.enableDamping?n.target.addScaledVector(v,n.dampingFactor):n.target.add(v),t.setFromSpherical(m),t.applyQuaternion(i),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(h.theta*=1-n.dampingFactor,h.phi*=1-n.dampingFactor,v.multiplyScalar(1-n.dampingFactor)):(h.set(0,0,0),v.set(0,0,0)),f=1,!!(p||a.distanceToSquared(n.object.position)>d||8*(1-c.dot(n.object.quaternion))>d)&&(n.dispatchEvent(o),a.copy(n.object.position),c.copy(n.object.quaternion),p=!1,!0)}})(),this.connect=e=>{e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),n.domElement=e,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",q),n.domElement.addEventListener("pointerdown",F),n.domElement.addEventListener("pointercancel",G),n.domElement.addEventListener("wheel",W)},this.dispose=()=>{var e,t,o,r,i,a;null===(e=n.domElement)||void 0===e||e.removeEventListener("contextmenu",q),null===(t=n.domElement)||void 0===t||t.removeEventListener("pointerdown",F),null===(o=n.domElement)||void 0===o||o.removeEventListener("pointercancel",G),null===(r=n.domElement)||void 0===r||r.removeEventListener("wheel",W),null===(i=n.domElement)||void 0===i||i.ownerDocument.removeEventListener("pointermove",B),null===(a=n.domElement)||void 0===a||a.ownerDocument.removeEventListener("pointerup",X),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",K)};const n=this,o={type:"change"},r={type:"start"},i={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=l.NONE;const d=1e-6,m=new s.Spherical,h=new s.Spherical;let f=1;const v=new s.Vector3;let p=!1;const b=new s.Vector2,g=new s.Vector2,E=new s.Vector2,y=new s.Vector2,w=new s.Vector2,P=new s.Vector2,M=new s.Vector2,O=new s.Vector2,x=new s.Vector2,D=[],T={};function L(){return Math.pow(.95,n.zoomSpeed)}function C(e){n.reverseOrbit?h.theta+=e:h.theta-=e}function Z(e){n.reverseOrbit?h.phi+=e:h.phi-=e}const S=(()=>{const e=new s.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),v.add(e)}})(),U=(()=>{const e=new s.Vector3;return function(t,o){!0===n.screenSpacePanning?e.setFromMatrixColumn(o,1):(e.setFromMatrixColumn(o,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),v.add(e)}})(),A=(()=>{const e=new s.Vector3;return function(t,o){const r=n.domElement;if(r&&n.object instanceof s.PerspectiveCamera&&n.object.isPerspectiveCamera){const i=n.object.position;e.copy(i).sub(n.target);let a=e.length();a*=Math.tan(n.object.fov/2*Math.PI/180),S(2*t*a/r.clientHeight,n.object.matrix),U(2*o*a/r.clientHeight,n.object.matrix)}else r&&n.object instanceof s.OrthographicCamera&&n.object.isOrthographicCamera?(S(t*(n.object.right-n.object.left)/n.object.zoom/r.clientWidth,n.object.matrix),U(o*(n.object.top-n.object.bottom)/n.object.zoom/r.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function j(e){n.object instanceof s.PerspectiveCamera&&n.object.isPerspectiveCamera?f/=e:n.object instanceof s.OrthographicCamera&&n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function R(e){n.object instanceof s.PerspectiveCamera&&n.object.isPerspectiveCamera?f*=e:n.object instanceof s.OrthographicCamera&&n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function k(e){b.set(e.clientX,e.clientY)}function N(e){y.set(e.clientX,e.clientY)}function z(){if(1==D.length)b.set(D[0].pageX,D[0].pageY);else{const e=.5*(D[0].pageX+D[1].pageX),t=.5*(D[0].pageY+D[1].pageY);b.set(e,t)}}function I(){if(1==D.length)y.set(D[0].pageX,D[0].pageY);else{const e=.5*(D[0].pageX+D[1].pageX),t=.5*(D[0].pageY+D[1].pageY);y.set(e,t)}}function Y(){const e=D[0].pageX-D[1].pageX,t=D[0].pageY-D[1].pageY,n=Math.sqrt(e*e+t*t);M.set(0,n)}function _(e){if(1==D.length)g.set(e.pageX,e.pageY);else{const t=$(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);g.set(n,o)}E.subVectors(g,b).multiplyScalar(n.rotateSpeed);const t=n.domElement;t&&(C(2*Math.PI*E.x/t.clientHeight),Z(2*Math.PI*E.y/t.clientHeight)),b.copy(g)}function H(e){if(1==D.length)w.set(e.pageX,e.pageY);else{const t=$(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);w.set(n,o)}P.subVectors(w,y).multiplyScalar(n.panSpeed),A(P.x,P.y),y.copy(w)}function V(e){const t=$(e),o=e.pageX-t.x,r=e.pageY-t.y,i=Math.sqrt(o*o+r*r);O.set(0,i),x.set(0,Math.pow(O.y/M.y,n.zoomSpeed)),j(x.y),M.copy(O)}function F(e){if(!1!==n.enabled){var t,o;if(0===D.length)null===(t=n.domElement)||void 0===t||t.ownerDocument.addEventListener("pointermove",B),null===(o=n.domElement)||void 0===o||o.ownerDocument.addEventListener("pointerup",X);!function(e){D.push(e)}(e),"touch"===e.pointerType?function(e){switch(J(e),D.length){case 1:switch(n.touches.ONE){case s.TOUCH.ROTATE:if(!1===n.enableRotate)return;z(),u=l.TOUCH_ROTATE;break;case s.TOUCH.PAN:if(!1===n.enablePan)return;I(),u=l.TOUCH_PAN;break;default:u=l.NONE}break;case 2:switch(n.touches.TWO){case s.TOUCH.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&Y(),n.enablePan&&I(),u=l.TOUCH_DOLLY_PAN;break;case s.TOUCH.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&Y(),n.enableRotate&&z(),u=l.TOUCH_DOLLY_ROTATE;break;default:u=l.NONE}break;default:u=l.NONE}u!==l.NONE&&n.dispatchEvent(r)}(e):function(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case s.MOUSE.DOLLY:if(!1===n.enableZoom)return;!function(e){M.set(e.clientX,e.clientY)}(e),u=l.DOLLY;break;case s.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;N(e),u=l.PAN}else{if(!1===n.enableRotate)return;k(e),u=l.ROTATE}break;case s.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;k(e),u=l.ROTATE}else{if(!1===n.enablePan)return;N(e),u=l.PAN}break;default:u=l.NONE}u!==l.NONE&&n.dispatchEvent(r)}(e)}}function B(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(J(e),u){case l.TOUCH_ROTATE:if(!1===n.enableRotate)return;_(e),n.update();break;case l.TOUCH_PAN:if(!1===n.enablePan)return;H(e),n.update();break;case l.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&V(e),n.enablePan&&H(e)}(e),n.update();break;case l.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&V(e),n.enableRotate&&_(e)}(e),n.update();break;default:u=l.NONE}}(e):function(e){if(!1===n.enabled)return;switch(u){case l.ROTATE:if(!1===n.enableRotate)return;!function(e){g.set(e.clientX,e.clientY),E.subVectors(g,b).multiplyScalar(n.rotateSpeed);const t=n.domElement;t&&(C(2*Math.PI*E.x/t.clientHeight),Z(2*Math.PI*E.y/t.clientHeight)),b.copy(g),n.update()}(e);break;case l.DOLLY:if(!1===n.enableZoom)return;!function(e){O.set(e.clientX,e.clientY),x.subVectors(O,M),x.y>0?j(L()):x.y<0&&R(L()),M.copy(O),n.update()}(e);break;case l.PAN:if(!1===n.enablePan)return;!function(e){w.set(e.clientX,e.clientY),P.subVectors(w,y).multiplyScalar(n.panSpeed),A(P.x,P.y),y.copy(w),n.update()}(e)}}(e))}function X(e){var t,o,r;(Q(e),0===D.length)&&(null===(t=n.domElement)||void 0===t||t.releasePointerCapture(e.pointerId),null===(o=n.domElement)||void 0===o||o.ownerDocument.removeEventListener("pointermove",B),null===(r=n.domElement)||void 0===r||r.ownerDocument.removeEventListener("pointerup",X));n.dispatchEvent(i),u=l.NONE}function G(e){Q(e)}function W(e){!1===n.enabled||!1===n.enableZoom||u!==l.NONE&&u!==l.ROTATE||(e.preventDefault(),n.dispatchEvent(r),function(e){e.deltaY<0?R(L()):e.deltaY>0&&j(L()),n.update()}(e),n.dispatchEvent(i))}function K(e){!1!==n.enabled&&!1!==n.enablePan&&function(e){let t=!1;switch(e.code){case n.keys.UP:A(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:A(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:A(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:A(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function q(e){!1!==n.enabled&&e.preventDefault()}function Q(e){delete T[e.pointerId];for(let t=0;t<D.length;t++)if(D[t].pointerId==e.pointerId)return void D.splice(t,1)}function J(e){let t=T[e.pointerId];void 0===t&&(t=new s.Vector2,T[e.pointerId]=t),t.set(e.pageX,e.pageY)}function $(e){const t=e.pointerId===D[0].pointerId?D[1]:D[0];return T[t.pointerId]}void 0!==t&&this.connect(t),this.update()}}const u=i.forwardRef((({makeDefault:e,camera:t,regress:n,domElement:a,enableDamping:s=!0,onChange:c,onStart:u,onEnd:d,...m},h)=>{const f=(0,r.y)((e=>e.invalidate)),v=(0,r.y)((e=>e.camera)),p=(0,r.y)((e=>e.gl)),b=(0,r.y)((e=>e.events)),g=(0,r.y)((e=>e.set)),E=(0,r.y)((e=>e.get)),y=(0,r.y)((e=>e.performance)),w=t||v,P=a||b.connected||p.domElement,M=i.useMemo((()=>new l(w)),[w]);return(0,r.z)((()=>{M.enabled&&M.update()}),-1),i.useEffect((()=>(M.connect(P),()=>{M.dispose()})),[P,n,M,f]),i.useEffect((()=>{const e=e=>{f(),n&&y.regress(),c&&c(e)};return M.addEventListener("change",e),u&&M.addEventListener("start",u),d&&M.addEventListener("end",d),()=>{u&&M.removeEventListener("start",u),d&&M.removeEventListener("end",d),M.removeEventListener("change",e)}}),[c,u,d]),i.useEffect((()=>{if(e){const e=E().controls;return g({controls:M}),()=>g({controls:e})}}),[e,M]),i.createElement("primitive",(0,o.Z)({ref:h,object:M,enableDamping:s},m))}))},587:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var o=n(9477),r=n(7294),i=n(9006);function a({all:e,scene:t,camera:n}){const a=(0,i.y)((({gl:e})=>e)),s=(0,i.y)((({camera:e})=>e)),c=(0,i.y)((({scene:e})=>e));return r.useLayoutEffect((()=>{const r=[];e&&(t||c).traverse((e=>{!1===e.visible&&(r.push(e),e.visible=!0)})),a.compile(t||c,n||s);const i=new o.WebGLCubeRenderTarget(128);new o.CubeCamera(.01,1e5,i).update(a,t||c),i.dispose(),r.forEach((e=>e.visible=!1))}),[]),null}},35:function(e,t,n){"use strict";n.d(t,{Xz:function(){return b}});var o=n(9006),r=n(7462),i=n(7294),a=n(9477);var s=function(e){return function(t){e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}},c=n(296),l=n.n(c);function u(e){let{debounce:t,scroll:n,polyfill:o,offsetSize:r}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e;const a=o||("undefined"===typeof window?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,c]=(0,i.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=(0,i.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),m=t?"number"===typeof t?t:t.scroll:null,f=t?"number"===typeof t?t:t.resize:null,v=(0,i.useRef)(!1);(0,i.useEffect)((()=>(v.current=!0,()=>{v.current=!1})));const[p,b,g]=(0,i.useMemo)((()=>{const e=()=>{if(!u.current.element)return;const{left:e,top:t,width:n,height:o,bottom:i,right:a,x:s,y:l}=u.current.element.getBoundingClientRect(),d={left:e,top:t,width:n,height:o,bottom:i,right:a,x:s,y:l};u.current.element instanceof HTMLElement&&r&&(d.height=u.current.element.offsetHeight,d.width=u.current.element.offsetWidth),Object.freeze(d),v.current&&!h(u.current.lastBounds,d)&&c(u.current.lastBounds=d)};return[e,f?l()(e,f):e,m?l()(e,m):e]}),[c,r,m,f]);function E(){u.current.scrollContainers&&(u.current.scrollContainers.forEach((e=>e.removeEventListener("scroll",g,!0))),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null)}function y(){u.current.element&&(u.current.resizeObserver=new a(g),u.current.resizeObserver.observe(u.current.element),n&&u.current.scrollContainers&&u.current.scrollContainers.forEach((e=>e.addEventListener("scroll",g,{capture:!0,passive:!0}))))}var w,P,M;return w=g,P=Boolean(n),(0,i.useEffect)((()=>{if(P){const e=w;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",e,!0)}}}),[w,P]),M=b,(0,i.useEffect)((()=>{const e=M;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[M]),(0,i.useEffect)((()=>{E(),y()}),[n,g,b]),(0,i.useEffect)((()=>E),[]),[e=>{e&&e!==u.current.element&&(E(),u.current.element=e,u.current.scrollContainers=d(e),y())},s,p]}function d(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:o,overflowY:r}=window.getComputedStyle(e);return[n,o,r].some((e=>"auto"===e||"scroll"===e))&&t.push(e),[...t,...d(e.parentElement)]}const m=["x","y","top","bottom","left","right","width","height"],h=(e,t)=>m.every((n=>e[n]===t[n]));n(2576),n(6525),n(3840);const f={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function v(e){const{handlePointer:t}=(0,o.c)(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(f).reduce(((e,n)=>({...e,[n]:t(n)})),{}),connect:t=>{var n;const{set:o,events:r}=e.getState();null==r.disconnect||r.disconnect(),o((e=>({events:{...e.events,connected:t}}))),Object.entries(null!=(n=null==r?void 0:r.handlers)?n:[]).forEach((([e,n])=>{const[o,r]=f[e];t.addEventListener(o,n,{passive:r})}))},disconnect:()=>{const{set:t,events:n}=e.getState();var o;n.connected&&(Object.entries(null!=(o=n.handlers)?o:[]).forEach((([e,t])=>{if(n&&n.connected instanceof HTMLElement){const[o]=f[e];n.connected.removeEventListener(o,t)}})),t((e=>({events:{...e.events,connected:void 0}}))))}}}const p=["gl","events","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"],b=i.forwardRef((function({children:e,fallback:t,resize:n,style:c,onPointerMissed:l,events:d=v,...m},h){i.useMemo((()=>(0,o.e)(a)),[]);const[f,{width:b,height:g}]=u({scroll:!0,debounce:{scroll:50,resize:0},...n}),E=i.useRef(null),y=i.useRef(null),[w,P]=i.useState(null),M=(0,o.u)(l),O=(0,o.p)(m,p),x=(0,o.o)(m,p),[D,T]=i.useState(!1),[L,C]=i.useState(!1);if(D)throw D;if(L)throw L;const Z=i.useRef(null);return b>0&&g>0&&w&&(Z.current||(Z.current=(0,o.a)(w)),Z.current.configure({...O,onPointerMissed:(...e)=>null==M.current?void 0:M.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(y.current),null==O.onCreated||O.onCreated(e)},size:{width:b,height:g},events:d}),Z.current.render(i.createElement(o.E,{set:C},i.createElement(i.Suspense,{fallback:i.createElement(o.B,{set:T})},e)))),(0,o.b)((()=>{P(E.current)}),[]),i.useEffect((()=>{if(w)return()=>(0,o.d)(w)}),[w]),i.createElement("div",(0,r.Z)({ref:s([y,f]),style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",...c}},x),i.createElement("canvas",{ref:s([E,h]),style:{display:"block"}},t))}))},3251:function(e,t,n){"use strict";n.d(t,{xC:function(){return d},K:function(){return m},sY:function(){return h}});var o=n(2248),r=n(7294),i=n(9477),a=n(9006);let s;function c(){if(void 0!==s)return s;try{var e;let t;const n=document.createElement("canvas");return s=!(!window.WebGL2RenderingContext||!(t=n.getContext("webgl2"))),t&&(null===(e=t.getExtension("WEBGL_lose_context"))||void 0===e||e.loseContext()),s}catch(t){return s=!1}}const l=function(e,t){return void 0===t&&(t=o.YQ.NORMAL),(0,r.forwardRef)((function(n,o){let{blendFunction:i,opacity:s,...c}=n;const l=(0,a.y)((e=>e.invalidate)),u=(0,r.useMemo)((()=>new e(c)),[c]);return(0,r.useLayoutEffect)((()=>{u.blendMode.blendFunction=i||0===i?i:t,void 0!==s&&(u.blendMode.opacity.value=s),l()}),[i,u.blendMode,s]),r.createElement("primitive",{ref:o,object:u,dispose:null})}))},u=(l(o.rk,o.YQ.SCREEN),l(o.at),l(o.zo),l(o.AL),(0,r.createContext)(null)),d=r.memo((0,r.forwardRef)(((e,t)=>{let{children:n,camera:s,scene:l,resolutionScale:d,enabled:m=!0,renderPriority:h=1,autoClear:f=!0,depthBuffer:v,disableNormalPass:p,stencilBuffer:b,multisampling:g=8,frameBufferType:E=i.HalfFloatType}=e;const{gl:y,scene:w,camera:P,size:M}=(0,a.y)();l=l||w,s=s||P;const[O,x,D]=(0,r.useMemo)((()=>{const e=c(),t=new o.xC(y,{depthBuffer:v,stencilBuffer:b,multisampling:g>0&&e?g:0,frameBufferType:E});t.addPass(new o.CD(l,s));let n=null,r=null;return p||(r=new o.gh(l,s),r.enabled=!1,t.addPass(r),void 0!==d&&e&&(n=new o.xs({normalBuffer:r.texture,resolutionScale:d}),n.enabled=!1,t.addPass(n))),[t,r,n]}),[s,y,v,b,g,E,l,p,d]);(0,r.useEffect)((()=>null==O?void 0:O.setSize(M.width,M.height)),[O,M]),(0,a.z)(((e,t)=>{m&&(y.autoClear=f,O.render(t))}),m?h:0);const T=(0,r.useRef)(null);(0,r.useLayoutEffect)((()=>{let e;return T.current&&T.current.__r3f&&O&&(e=new o.H5(s,...T.current.__r3f.objects),e.renderToScreen=!0,O.addPass(e),x&&(x.enabled=!0),D&&(D.enabled=!0)),()=>{e&&(null==O||O.removePass(e)),x&&(x.enabled=!1),D&&(D.enabled=!1)}}),[O,n,s,x,D]);const L=(0,r.useMemo)((()=>({composer:O,normalPass:x,downSamplingPass:D,resolutionScale:d,camera:s,scene:l})),[O,x,D,d,s,l]);return(0,r.useImperativeHandle)(t,(()=>O),[O]),r.createElement(u.Provider,{value:L},r.createElement("group",{ref:T},n))})));l(o.ol),l(o.JL),l(o.xV,o.YQ.COLOR_DODGE);l(o.p$,o.YQ.OVERLAY),l(o.wL);const m=(0,r.forwardRef)((function(e,t){const{camera:n,normalPass:i,downSamplingPass:a,resolutionScale:s}=(0,r.useContext)(u),c=(0,r.useMemo)((()=>null===i&&null===a?(console.error("Please enable the NormalPass in the EffectComposer in order to use SSAO."),null):new o.bn(n,i&&!a?i.texture:null,{blendFunction:o.YQ.MULTIPLY,samples:30,rings:4,distanceThreshold:1,distanceFalloff:0,rangeThreshold:.5,rangeFalloff:.1,luminanceInfluence:.9,radius:20,scale:.5,bias:.5,intensity:1,color:null,normalDepthBuffer:a?a.texture:null,resolutionScale:null!=s?s:1,depthAwareUpsampling:!0,...e})),[n,i,e]);return r.createElement("primitive",{ref:t,object:c,dispose:null})})),h=(l(o.M4),l(o.Dd));l(o.Uy)},296:function(e){function t(e,t,n){var o,r,i,a,s;function c(){var l=Date.now()-a;l<t&&l>=0?o=setTimeout(c,t-l):(o=null,n||(s=e.apply(i,r),i=r=null))}null==t&&(t=100);var l=function(){i=this,r=arguments,a=Date.now();var l=n&&!o;return o||(o=setTimeout(c,t)),l&&(s=e.apply(i,r),i=r=null),s};return l.clear=function(){o&&(clearTimeout(o),o=null)},l.flush=function(){o&&(s=e.apply(i,r),i=r=null,clearTimeout(o),o=null)},l}t.debounce=t,e.exports=t},3945:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var o=n(4942);class r{constructor(e=Math){(0,o.Z)(this,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),(0,o.Z)(this,"grad4",[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]]),(0,o.Z)(this,"p",[]),(0,o.Z)(this,"perm",[]),(0,o.Z)(this,"simplex",[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]),(0,o.Z)(this,"dot",((e,t,n)=>e[0]*t+e[1]*n)),(0,o.Z)(this,"dot3",((e,t,n,o)=>e[0]*t+e[1]*n+e[2]*o)),(0,o.Z)(this,"dot4",((e,t,n,o,r)=>e[0]*t+e[1]*n+e[2]*o+e[3]*r)),(0,o.Z)(this,"noise",((e,t)=>{let n,o,r;const i=(e+t)*(.5*(Math.sqrt(3)-1)),a=Math.floor(e+i),s=Math.floor(t+i),c=(3-Math.sqrt(3))/6,l=(a+s)*c,u=e-(a-l),d=t-(s-l);let m=0,h=1;u>d&&(m=1,h=0);const f=u-m+c,v=d-h+c,p=u-1+2*c,b=d-1+2*c,g=255&a,E=255&s,y=this.perm[g+this.perm[E]]%12,w=this.perm[g+m+this.perm[E+h]]%12,P=this.perm[g+1+this.perm[E+1]]%12;let M=.5-u*u-d*d;M<0?n=0:(M*=M,n=M*M*this.dot(this.grad3[y],u,d));let O=.5-f*f-v*v;O<0?o=0:(O*=O,o=O*O*this.dot(this.grad3[w],f,v));let x=.5-p*p-b*b;return x<0?r=0:(x*=x,r=x*x*this.dot(this.grad3[P],p,b)),70*(n+o+r)})),(0,o.Z)(this,"noise3d",((e,t,n)=>{let o,r,i,a;const s=(e+t+n)*(1/3),c=Math.floor(e+s),l=Math.floor(t+s),u=Math.floor(n+s),d=1/6,m=(c+l+u)*d,h=e-(c-m),f=t-(l-m),v=n-(u-m);let p,b,g,E,y,w;h>=f?f>=v?(p=1,b=0,g=0,E=1,y=1,w=0):h>=v?(p=1,b=0,g=0,E=1,y=0,w=1):(p=0,b=0,g=1,E=1,y=0,w=1):f<v?(p=0,b=0,g=1,E=0,y=1,w=1):h<v?(p=0,b=1,g=0,E=0,y=1,w=1):(p=0,b=1,g=0,E=1,y=1,w=0);const P=h-p+d,M=f-b+d,O=v-g+d,x=h-E+2*d,D=f-y+2*d,T=v-w+2*d,L=h-1+.5,C=f-1+.5,Z=v-1+.5,S=255&c,U=255&l,A=255&u,j=this.perm[S+this.perm[U+this.perm[A]]]%12,R=this.perm[S+p+this.perm[U+b+this.perm[A+g]]]%12,k=this.perm[S+E+this.perm[U+y+this.perm[A+w]]]%12,N=this.perm[S+1+this.perm[U+1+this.perm[A+1]]]%12;let z=.6-h*h-f*f-v*v;z<0?o=0:(z*=z,o=z*z*this.dot3(this.grad3[j],h,f,v));let I=.6-P*P-M*M-O*O;I<0?r=0:(I*=I,r=I*I*this.dot3(this.grad3[R],P,M,O));let Y=.6-x*x-D*D-T*T;Y<0?i=0:(Y*=Y,i=Y*Y*this.dot3(this.grad3[k],x,D,T));let _=.6-L*L-C*C-Z*Z;return _<0?a=0:(_*=_,a=_*_*this.dot3(this.grad3[N],L,C,Z)),32*(o+r+i+a)})),(0,o.Z)(this,"noise4d",((e,t,n,o)=>{const r=this.grad4,i=this.simplex,a=this.perm,s=(Math.sqrt(5)-1)/4,c=(5-Math.sqrt(5))/20;let l,u,d,m,h;const f=(e+t+n+o)*s,v=Math.floor(e+f),p=Math.floor(t+f),b=Math.floor(n+f),g=Math.floor(o+f),E=(v+p+b+g)*c,y=e-(v-E),w=t-(p-E),P=n-(b-E),M=o-(g-E),O=(y>w?32:0)+(y>P?16:0)+(w>P?8:0)+(y>M?4:0)+(w>M?2:0)+(P>M?1:0);let x,D,T,L,C,Z,S,U,A,j,R,k;x=i[O][0]>=3?1:0,D=i[O][1]>=3?1:0,T=i[O][2]>=3?1:0,L=i[O][3]>=3?1:0,C=i[O][0]>=2?1:0,Z=i[O][1]>=2?1:0,S=i[O][2]>=2?1:0,U=i[O][3]>=2?1:0,A=i[O][0]>=1?1:0,j=i[O][1]>=1?1:0,R=i[O][2]>=1?1:0,k=i[O][3]>=1?1:0;const N=y-x+c,z=w-D+c,I=P-T+c,Y=M-L+c,_=y-C+2*c,H=w-Z+2*c,V=P-S+2*c,F=M-U+2*c,B=y-A+3*c,X=w-j+3*c,G=P-R+3*c,W=M-k+3*c,K=y-1+4*c,q=w-1+4*c,Q=P-1+4*c,J=M-1+4*c,$=255&v,ee=255&p,te=255&b,ne=255&g,oe=a[$+a[ee+a[te+a[ne]]]]%32,re=a[$+x+a[ee+D+a[te+T+a[ne+L]]]]%32,ie=a[$+C+a[ee+Z+a[te+S+a[ne+U]]]]%32,ae=a[$+A+a[ee+j+a[te+R+a[ne+k]]]]%32,se=a[$+1+a[ee+1+a[te+1+a[ne+1]]]]%32;let ce=.6-y*y-w*w-P*P-M*M;ce<0?l=0:(ce*=ce,l=ce*ce*this.dot4(r[oe],y,w,P,M));let le=.6-N*N-z*z-I*I-Y*Y;le<0?u=0:(le*=le,u=le*le*this.dot4(r[re],N,z,I,Y));let ue=.6-_*_-H*H-V*V-F*F;ue<0?d=0:(ue*=ue,d=ue*ue*this.dot4(r[ie],_,H,V,F));let de=.6-B*B-X*X-G*G-W*W;de<0?m=0:(de*=de,m=de*de*this.dot4(r[ae],B,X,G,W));let me=.6-K*K-q*q-Q*Q-J*J;return me<0?h=0:(me*=me,h=me*me*this.dot4(r[se],K,q,Q,J)),27*(l+u+d+m+h)}));for(let t=0;t<256;t++)this.p[t]=Math.floor(256*e.random());for(let t=0;t<512;t++)this.perm[t]=this.p[255&t]}}},4942:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return o}})},7462:function(e,t,n){"use strict";function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o.apply(this,arguments)}n.d(t,{Z:function(){return o}})}}]);